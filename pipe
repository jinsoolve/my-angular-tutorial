getItems(): SearchItem[] {
  return this._items$.getValue().slice();
}

getHistory(): SearchItem[] {
  return this.getItems()
    .filter(item => item.recentVisit && item.recentVisit > 0)
    .sort((a, b) => (b.recentVisit ?? 0) - (a.recentVisit ?? 0))
    .slice(0, 15);
}

getPopular(): SearchItem[] {
  return this.getItems()
    .filter(item => item.visitCount && item.visitCount > 0)
    .sort((a, b) => (b.visitCount ?? 0) - (a.visitCount ?? 0))
    .slice(0, 10);
}